<Window x:Class="LanguageSchoolERP.App.Windows.AddPaymentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding DialogTitle}" Height="668" Width="633"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
	<Window.Resources>
		<Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
			<Setter Property="Padding" Value="2,4"/>
		</Style>
		<Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
			<Setter Property="Padding" Value="6,4"/>
		</Style>
		<Style TargetType="DatePicker" BasedOn="{StaticResource {x:Type DatePicker}}">
			<Setter Property="Padding" Value="3,4"/>
		</Style>
		<DataTemplate x:Key="EnrollmentOptionTemplate">
			<TextBlock Text="{Binding Label}"/>
		</DataTemplate>
	</Window.Resources>


	<Grid Margin="16">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<TextBlock Text="{Binding DialogTitle}" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12"/>

		<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
			<StackPanel>
				<TextBlock Text="Εγγραφή (υποχρεωτικό)"/>
				<ComboBox Margin="0,4,0,12"
                          ItemsSource="{Binding EnrollmentOptions}"
                          ItemTemplate="{StaticResource EnrollmentOptionTemplate}"
                          Foreground="{StaticResource Brush.TextPrimary}"
                          SelectedItem="{Binding SelectedEnrollmentOption}"/>

				<TextBlock Text="Ποσό (€)"/>
				<TextBox Margin="0,4,0,12" Text="{Binding AmountText, UpdateSourceTrigger=PropertyChanged}"/>

				<TextBlock Text="Ημερομηνία"/>
				<DatePicker Margin="0,4,0,12" SelectedDate="{Binding PaymentDate}"/>

				<TextBlock Text="Τρόπος"/>
				<ComboBox Margin="0,4,0,12"
                          ItemsSource="{Binding PaymentMethods}"
                          SelectedItem="{Binding SelectedPaymentMethod}"/>

				<TextBlock Text="Αιτιολογία"/>
				<ComboBox Margin="0,4,0,12"
                          ItemsSource="{Binding PaymentReasons}"
                          SelectedItem="{Binding SelectedReason}"/>

				<TextBlock Text="Σημειώσεις"/>
				<TextBox Margin="0,4,0,0" Height="150"
                         AcceptsReturn="True" TextWrapping="Wrap"
                         VerticalScrollBarVisibility="Auto"
                         Text="{Binding Notes}"/>
			</StackPanel>
		</ScrollViewer>

		<DockPanel Grid.Row="2" Margin="0,14,0,0">
			<TextBlock Text="{Binding ErrorMessage}" Foreground="IndianRed" VerticalAlignment="Center"/>

			<StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
				<Button Content="Ακύρωση" Width="100" Margin="0,0,8,0" IsCancel="True"/>
				<Button Content="{Binding SaveButtonText}" Width="120" Command="{Binding SaveCommand}"/>
			</StackPanel>
		</DockPanel>
	</Grid>
</Window>
