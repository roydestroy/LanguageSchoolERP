<Window x:Class="LanguageSchoolERP.App.Windows.NewStudentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Νέος μαθητής" Height="800" Width="1120"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <x:Array x:Key="InstallmentChoices" Type="{x:Type sys:String}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:String>0</sys:String>
            <sys:String>1</sys:String>
            <sys:String>2</sys:String>
            <sys:String>3</sys:String>
            <sys:String>4</sys:String>
            <sys:String>5</sys:String>
            <sys:String>6</sys:String>
            <sys:String>7</sys:String>
            <sys:String>8</sys:String>
            <sys:String>9</sys:String>
            <sys:String>10</sys:String>
            <sys:String>11</sys:String>
            <sys:String>12</sys:String>
        </x:Array>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Δημιουργία μαθητή"
                   FontSize="20"
                   FontWeight="SemiBold"
                   Margin="0,0,0,10"/>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="14"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="14"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Student -->
            <Border Grid.Column="0" BorderBrush="{StaticResource Brush.Border}" BorderThickness="1" CornerRadius="8" Padding="10" Background="White">
                <StackPanel>
                    <TextBlock Text="Στοιχεία μαθητή" FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <TextBlock Text="Όνομα μαθητή"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding StudentName, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Επώνυμο μαθητή"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding StudentSurname, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Ημερομηνία γέννησης (προαιρετικό)"/>
                    <DatePicker Margin="0,2,0,6" SelectedDate="{Binding DateOfBirth}"/>

                    <TextBlock Text="Σχολείο"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding SchoolName, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Κινητό"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding Mobile}"/>

                    <TextBlock Text="Σταθερό"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding Landline}"/>

                    <TextBlock Text="Ηλ. ταχυδρομείο"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding Email}"/>

                    <TextBlock Text="Σημειώσεις"/>
                    <TextBox Margin="0,2,0,0" Text="{Binding Notes}" AcceptsReturn="True" Height="78" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <!-- Parents -->
            <Border Grid.Column="2" BorderBrush="{StaticResource Brush.Border}" BorderThickness="1" CornerRadius="8" Padding="10" Background="White">
                <StackPanel>
                    <TextBlock Text="Στοιχεία γονέων" FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <TextBlock Text="Όνομα πατέρα"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding FatherName, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Επώνυμο πατέρα"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding FatherSurname, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Κινητό πατέρα"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding FatherMobile, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Σταθερό πατέρα"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding FatherLandline, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Ηλ. ταχυδρομείο πατέρα"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding FatherEmail, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Όνομα μητέρας"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding MotherName, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Επώνυμο μητέρας"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding MotherSurname, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Κινητό μητέρας"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding MotherMobile, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Σταθερό μητέρας"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding MotherLandline, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Ηλ. ταχυδρομείο μητέρας"/>
                    <TextBox Margin="0,2,0,0" Text="{Binding MotherEmail, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
            </Border>

            <!-- Enrollment -->
            <Border Grid.Column="4" BorderBrush="{StaticResource Brush.Border}" BorderThickness="1" CornerRadius="8" Padding="10" Background="White">
                <StackPanel>
                    <TextBlock Text="Εγγραφή" FontWeight="SemiBold" Margin="0,0,0,8"/>

                    <TextBlock Text="Πρόγραμμα"/>
                    <ComboBox Margin="0,2,0,6"
                              ItemsSource="{Binding StudyPrograms}"
                              DisplayMemberPath="Name"
                              SelectedItem="{Binding SelectedStudyProgram}"/>

                    <TextBlock Text="Επίπεδο / Τάξη"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding LevelOrClass}"/>

                    <TextBlock Text="Σύνολο συμφωνίας (€)"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding AgreementTotalText}"/>

                    <TextBlock Text="Βιβλία (€)"
                               Visibility="{Binding HasBooksOption, Converter={StaticResource BoolToVisibilityConverter}}"/>
                    <TextBox Margin="0,2,0,6"
                             Text="{Binding BooksAmountText}"
                             Visibility="{Binding HasBooksOption, Converter={StaticResource BoolToVisibilityConverter}}"/>

                    <TextBlock Text="Προκαταβολή (€)"/>
                    <TextBox Margin="0,2,0,6" Text="{Binding DownPaymentText}"/>

                    <TextBlock Text="Αριθμός δόσεων"/>
                    <ComboBox Margin="0,2,0,6"
                              ItemsSource="{StaticResource InstallmentChoices}"
                              IsEditable="False"
                              SelectedItem="{Binding InstallmentCountText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Μήνας έναρξης δόσεων"/>
                    <DatePicker Margin="0,2,0,6" SelectedDate="{Binding InstallmentStartMonth}"/>

                    <CheckBox Margin="0,0,0,6"
                              Content="Study Lab"
                              IsChecked="{Binding IncludesStudyLab}"
                              Visibility="{Binding HasStudyLabOption, Converter={StaticResource BoolToVisibilityConverter}}"/>

                    <StackPanel Margin="0,0,0,6"
                                Visibility="{Binding IncludesStudyLab, Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Μηνιαία τιμή αίθουσας μελέτης (€)"/>
                        <TextBox Margin="0,2,0,0" Text="{Binding StudyLabMonthlyPriceText, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>

                    <CheckBox Margin="0,0,0,6"
                              Content="Μεταφορά"
                              IsChecked="{Binding IncludesTransportation}"
                              Visibility="{Binding HasTransportOption, Converter={StaticResource BoolToVisibilityConverter}}"/>

                    <StackPanel Margin="0,0,0,6"
                                Visibility="{Binding IncludesTransportation, Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="Μηνιαία τιμή μεταφοράς (€)"/>
                        <TextBox Margin="0,2,0,0" Text="{Binding TransportationMonthlyPriceText, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>

                    <TextBlock Text="Σχόλια εγγραφής"/>
                    <TextBox Margin="0,2,0,0" Text="{Binding EnrollmentComments}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>

        <Grid Grid.Row="2" Margin="0,12,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Text="{Binding ErrorMessage}" Foreground="IndianRed" Margin="0,0,0,8"/>

            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Ακύρωση" Width="100" Margin="0,0,8,0" IsCancel="True"/>
                <Button Content="Δημιουργία" Width="120" Command="{Binding CreateCommand}"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
